import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Volume2 } from "lucide-react";
import { motion } from "framer-motion";

const audioGuides = {
  cenacolo: "/audio/cenacolo.mp3",
  santAmbrogio: "/audio/sant_ambrogio.mp3",
};

export default function AudioGuideApp() {
  const [audio, setAudio] = useState(null);

  const playAudio = (src) => {
    if (audio) {
      audio.pause();
    }
    const newAudio = new Audio(src);
    newAudio.play();
    setAudio(newAudio);
  };

  return (
    <div className="min-h-screen bg-white flex flex-col items-center justify-center p-4 space-y-8">
      <h1 className="text-4xl font-bold text-center text-orange-600">AudioGuide Milano</h1>
      <Card className="w-full max-w-md shadow-xl">
        <CardContent className="flex flex-col space-y-4 p-6">
          <motion.div whileHover={{ scale: 1.05 }}>
            <Button
              onClick={() => playAudio(audioGuides.cenacolo)}
              className="bg-orange-500 hover:bg-orange-600 text-white rounded-2xl w-full text-lg py-4"
            >
              <Volume2 className="inline mr-2" /> Ascolta il Cenacolo
            </Button>
          </motion.div>
          <motion.div whileHover={{ scale: 1.05 }}>
            <Button
              onClick={() => playAudio(audioGuides.santAmbrogio)}
              className="bg-orange-500 hover:bg-orange-600 text-white rounded-2xl w-full text-lg py-4"
            >
              <Volume2 className="inline mr-2" /> Ascolta Sant'Ambrogio
            </Button>
          </motion.div>
        </CardContent>
      </Card>
    </div>
  );
}
